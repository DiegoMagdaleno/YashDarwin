= Dirs 組込みコマンド
:encoding: UTF-8
:lang: ja
//:title: Yash マニュアル - Dirs 組込みコマンド

dfn:[Dirs 組込みコマンド]はディレクトリスタックの内容を表示します。

[[syntax]]
== 構文

- +dirs [-cv] [{{インデックス}}..]+

[[description]]
== 説明

dfn:[ディレクトリスタック]とは、作業ディレクトリの変更の履歴をとる仕組みです。{zwsp}link:_pushd.html[Pushd コマンド]で作業ディレクトリを変更すると、元の作業ディレクトリがディレクトリスタックに追加されます。{zwsp}link:_popd.html[Popd コマンド]を使うと、ディレクトリスタックに保存してある元の作業ディレクトリに戻ることができます。Dirs コマンドを使うと、ディレクトリスタックの内容を表示することができます。ディレクトリスタックの内容は link:params.html#sv-dirstack[+DIRSTACK+ 配列]と link:params.html#sv-pwd[+PWD+ 変数]に保存されます。これらの値を変更すると、ディレクトリスタックの動作に影響します。

ディレクトリスタックに保存してあるディレクトリはdfn:[インデックス]で区別します。インデックスは +-v+ (+--verbose+) オプションを付けて dirs コマンドを実行することで知ることができます。インデックスは正号 (+&#x2B;+) または負号 (+-+) の付いた整数の形で表わします。整数は pushd コマンドでディレクトリスタックに追加した順に振られます。例えばインデックス +&#x2B;0+ は現在の作業ディレクトリに対応します。インデックス +&#x2B;1+ は最後に追加したディレクトリで、インデックス +&#x2B;2+ はその一つ前に追加したディレクトリに対応します。インデックス +-0+ は最初に 追加したディレクトリ、インデックス +-1+ はその次に追加したディレクトリに対応します。

+-c+ (+--clear+) オプションを付けずに実行すると、dirs コマンドは現在のディレクトリスタックの要素を一つずつ標準出力に出力します。 +-c+ (+--clear+) オプションを付けて実行すると、dirs コマンドはディレクトリスタックのインデックス ++0+ 以外の要素をすべて削除します。

[[options]]
== オプション

+-c+::
+--clear+::
ディレクトリスタックの要素を (現在の作業ディレクトリに対応するものを除いて) すべて削除します。

+-v+::
+--verbose+::
ディレクトリスタックの要素のインデックスも出力します。

[[operands]]
== オペランド

{{インデックス}}::
表示するディレクトリスタックの要素のインデックスです。インデックスを一つも指定しないときは、全ての要素をインデックス +&#x2B;0+ のものから順に表示します。

[[exitstatus]]
== 終了ステータス

エラーがない限り dirs コマンドの終了ステータスは 0 です。

[[notes]]
== 補足

Dirs コマンドは{zwsp}link:builtin.html#types[準特殊組込みコマンド]です。
POSIX では dirs コマンドの動作は規定されていません。

// vim: set filetype=asciidoc expandtab:
