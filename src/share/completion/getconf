# (C) 2010 magicant

# Completion script for the "getconf" command.
# Supports POSIX 2008, GNU libc 2.12.1, FreeBSD 8.1, OpenBSD 4.8, NetBSD 5.0,
# Mac OS X 10.6.4, SunOS 5.10, HP-UX 11i v3.

function completion/getconf {

	typeset type="$(uname 2>/dev/null)"

	typeset OPTIONS ARGOPT PREFIX
	OPTIONS=( #>#
	"v:; specify a programming environment"
	) #<#

	command -f completion//parseoptions ${long:+-es}
	case $ARGOPT in
	(-)
		command -f completion//completeoptions
		;;
	(v)
		complete -P "$PREFIX" XBS5_ILP32_OFF32 XBS5_ILP32_OFFBIG XBS5_LP64_OFF64 XBS5_LPBIG_OFFBIG
		complete -P "$PREFIX" POSIX_V6_ILP32_OFF32 POSIX_V6_ILP32_OFFBIG POSIX_V6_LP64_OFF64 POSIX_V6_LPBIG_OFFBIG
		complete -P "$PREFIX" POSIX_V7_ILP32_OFF32 POSIX_V7_ILP32_OFFBIG POSIX_V7_LP64_OFF64 POSIX_V7_LPBIG_OFFBIG
		;;
	('')
		command -f completion//getoperands
		case ${WORDS[#]} in
		(0)
			# fpathconf variables
			complete FILESIZEBITS LINK_MAX MAX_CANON MAX_INPUT NAME_MAX PATH_MAX PIPE_BUF
			complete POSIX2_SYMLINKS POSIX_ALLOC_SIZE_MIN POSIX_REC_INCR_XFER_SIZE POSIX_REC_MAX_XFER_SIZE POSIX_REC_MIN_XFER_SIZE POSIX_REC_XFER_ALIGN SYMLINK_MAX
			complete _POSIX_CHOWN_RESTRICTED _POSIX_NO_TRUNC _POSIX_VDISABLE _POSIX_ASYNC_IO _POSIX_PRIO_IO _POSIX_SYNC_IO _POSIX_TIMESTAMP_RESOLUTION

			# sysconf variables
			complete AIO_LISTIO_MAX AIO_MAX AIO_PRIO_DELTA_MAX ARG_MAX ATEXIT_MAX BC_BASE_MAX BC_DIM_MAX BC_SCALE_MAX BC_STRING_MAX CHILD_MAX COLL_WEIGHTS_MAX DELAYTIMER_MAX EXPR_NEST_MAX HOST_NAME_MAX IOV_MAX LINE_MAX LOGIN_NAME_MAX NGROUPS_MAX MQ_OPEN_MAX MQ_PRIO_MAX OPEN_MAX
			complete _POSIX_ADVISORY_INFO _POSIX_BARRIERS _POSIX_ASYNCHRONOUS_IO _POSIX_CLOCK_SELECTION _POSIX_CPUTIME _POSIX_FILE_LOCKING _POSIX_FSYNC _POSIX_IPV6 _POSIX_JOB_CONTROL _POSIX_MAPPED_FILES _POSIX_MEMLOCK _POSIX_MEMLOCK_RANGE _POSIX_MEMORY_PROTECTION _POSIX_MESSAGE_PASSING _POSIX_MONOTONIC_CLOCK _POSIX_MULTI_PROCESS _POSIX_PRIORITIZED_IO _POSIX_PRIORITY_SCHEDULING _POSIX_RAW_SOCKETS _POSIX_READER_WRITER_LOCKS _POSIX_REALTIME_SIGNALS _POSIX_REGEXP _POSIX_SAVED_IDS _POSIX_SEMAPHORES _POSIX_SHARED_MEMORY_OBJECTS _POSIX_SHELL _POSIX_SPAWN _POSIX_SPIN_LOCKS _POSIX_SPORADIC_SERVER _POSIX_SS_REPL_MAX _POSIX_SYMLOOP_MAX _POSIX_SYNCHRONIZED_IO _POSIX_THREAD_ATTR_STACKADDR _POSIX_THREAD_ATTR_STACKSIZE _POSIX_THREAD_CPUTIME _POSIX_THREAD_PRIO_INHERIT _POSIX_THREAD_PRIO_PROTECT _POSIX_THREAD_PRIORITY_SCHEDULING _POSIX_THREAD_PROCESS_SHARED _POSIX_THREAD_ROBUST_PRIO_INHERIT _POSIX_THREAD_ROBUST_PRIO_PROTECT _POSIX_THREAD_SAFE_FUNCTIONS _POSIX_THREAD_SPORADIC_SERVER _POSIX_THREADS
			complete _POSIX_TIMEOUTS _POSIX_TIMERS _POSIX_TRACE _POSIX_TRACE_EVENT_FILTER _POSIX_TRACE_EVENT_NAME_MAX _POSIX_TRACE_INHERIT _POSIX_TRACE_LOG _POSIX_TRACE_NAME_MAX _POSIX_TRACE_SYS_MAX _POSIX_TRACE_USER_EVENT_MAX _POSIX_TYPED_MEMORY_OBJECTS _POSIX_VERSION _POSIX_V7_ILP32_OFF32 _POSIX_V7_ILP32_OFFBIG _POSIX_V7_LP64_OFF64 _POSIX_V7_LPBIG_OFFBIG _POSIX_V6_ILP32_OFF32 _POSIX_V6_ILP32_OFFBIG _POSIX_V6_LP64_OFF64 _POSIX_V6_LPBIG_OFFBIG _POSIX2_C_BIND _POSIX2_C_DEV _POSIX2_C_VERSION _POSIX2_CHAR_TERM _POSIX2_FORT_DEV _POSIX2_FORT_RUN _POSIX2_LOCALEDEF _POSIX2_PBS _POSIX2_PBS_ACCOUNTING _POSIX2_PBS_CHECKPOINT _POSIX2_PBS_LOCATE _POSIX2_PBS_MESSAGE _POSIX2_PBS_TRACK _POSIX2_SW_DEV _POSIX2_UPE _POSIX2_VERSION
			complete PAGE_SIZE PAGESIZE PTHREAD_DESTRUCTOR_ITERATIONS PTHREAD_KEYS_MAX PTHREAD_STACK_MIN PTHREAD_THREADS_MAX RE_DUP_MAX _REGEX_VERSION RTSIG_MAX SEM_NSEMS_MAX SEM_VALUE_MAX SIGQUEUE_MAX STREAM_MAX SYMLOOP_MAX TIMER_MAX TTY_NAME_MAX TZNAME_MAX
			complete _XBS5_ILP32_OFF32 _XBS5_ILP32_OFFBIG _XBS5_LP64_OFF64 _XBS5_LPBIG_OFFBIG _XOPEN_CRYPT _XOPEN_ENH_I18N _XOPEN_LEGACY _XOPEN_REALTIME _XOPEN_REALTIME_THREADS _XOPEN_SHM _XOPEN_STREAMS _XOPEN_UNIX _XOPEN_UUCP _XOPEN_VERSION _XOPEN_XCU_VERSION

			# confstr variables
			complete PATH
			complete POSIX_V7_ILP32_OFF32_CFLAGS POSIX_V7_ILP32_OFF32_LDFLAGS POSIX_V7_ILP32_OFF32_LIBS POSIX_V7_ILP32_OFFBIG_CFLAGS POSIX_V7_ILP32_OFFBIG_LDFLAGS POSIX_V7_ILP32_OFFBIG_LIBS POSIX_V7_LP64_OFF64_CFLAGS POSIX_V7_LP64_OFF64_LDFLAGS POSIX_V7_LP64_OFF64_LIBS POSIX_V7_LPBIG_OFFBIG_CFLAGS POSIX_V7_LPBIG_OFFBIG_LDFLAGS POSIX_V7_LPBIG_OFFBIG_LIBS POSIX_V7_THREADS_CFLAGS POSIX_V7_THREADS_LDFLAGS POSIX_V7_WIDTH_RESTRICTED_ENVS V7_ENV
			complete POSIX_V6_ILP32_OFF32_CFLAGS POSIX_V6_ILP32_OFF32_LDFLAGS POSIX_V6_ILP32_OFF32_LIBS POSIX_V6_ILP32_OFFBIG_CFLAGS POSIX_V6_ILP32_OFFBIG_LDFLAGS POSIX_V6_ILP32_OFFBIG_LIBS POSIX_V6_LP64_OFF64_CFLAGS POSIX_V6_LP64_OFF64_LDFLAGS POSIX_V6_LP64_OFF64_LIBS POSIX_V6_LPBIG_OFFBIG_CFLAGS POSIX_V6_LPBIG_OFFBIG_LDFLAGS POSIX_V6_LPBIG_OFFBIG_LIBS POSIX_V6_WIDTH_RESTRICTED_ENVS V6_ENV
			complete XBS5_ILP32_OFF32_CFLAGS XBS5_ILP32_OFF32_LDFLAGS XBS5_ILP32_OFF32_LIBS XBS5_ILP32_OFF32_LINTFLAGS XBS5_ILP32_OFFBIG_CFLAGS XBS5_ILP32_OFFBIG_LDFLAGS XBS5_ILP32_OFFBIG_LIBS XBS5_ILP32_OFFBIG_LINTFLAGS XBS5_LP64_OFF64_CFLAGS XBS5_LP64_OFF64_LDFLAGS XBS5_LP64_OFF64_LIBS XBS5_LP64_OFF64_LINTFLAGS XBS5_LPBIG_OFFBIG_CFLAGS XBS5_LPBIG_OFFBIG_LDFLAGS XBS5_LPBIG_OFFBIG_LIBS XBS5_LPBIG_OFFBIG_LINTFLAGS

			# other limits.h variables
			complete _POSIX_CLOCKRES_MIN
			complete _POSIX_AIO_LISTIO_MAX _POSIX_AIO_MAX _POSIX_ARG_MAX _POSIX_CHILD_MAX _POSIX_DELAYTIMER_MAX _POSIX_HOST_NAME_MAX _POSIX_LINK_MAX _POSIX_LOGIN_NAME_MAX _POSIX_MAX_CANON _POSIX_MAX_INPUT _POSIX_MQ_OPEN_MAX _POSIX_MQ_PRIO_MAX _POSIX_NAME_MAX _POSIX_NGROUPS_MAX _POSIX_OPEN_MAX _POSIX_PATH_MAX _POSIX_PIPE_BUF _POSIX_RE_DUP_MAX _POSIX_RTSIG_MAX _POSIX_SEM_NSEMS_MAX _POSIX_SEM_VALUE_MAX _POSIX_SIGQUEUE_MAX _POSIX_SSIZE_MAX _POSIX_SS_REPL_MAX _POSIX_STREAM_MAX _POSIX_SS_REPL_MAX _POSIX_SYMLINK_MAX _POSIX_SYMLOOP_MAX _POSIX_THREAD_DESTRUCTOR_ITERATIONS _POSIX_THREAD_KEYS_MAX _POSIX_THREAD_THREADS_MAX _POSIX_TIMER_MAX _POSIX_TRACE_EVENT_NAME_MAX _POSIX_TRACE_NAME_MAX _POSIX_TRACE_SYS_MAX _POSIX_TRACE_USER_EVENT_MAX _POSIX_TTY_NAME_MAX _POSIX_TZNAME_MAX _POSIX2_BC_BASE_MAX _POSIX2_BC_DIM_MAX _POSIX2_BC_SCALE_MAX _POSIX2_BC_STRING_MAX _POSIX2_CHARCLASS_NAME_MAX _POSIX2_COLL_WEIGHTS_MAX _POSIX2_EXPR_NEST_MAX _POSIX2_LINE_MAX _POSIX2_RE_DUP_MAX _XOPEN_IOV_MAX _XOPEN_NAME_MAX _XOPEN_PATH_MAX
			;;
		(1)
			complete -f
			;;
		esac
		;;
	esac

}


# vim: set ft=sh ts=8 sts=8 sw=8 noet:
